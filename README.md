# Code2

## TODO

https://stackoverflow.com/questions/7042611/override-console-log-for-production

https://stackoverflow.com/questions/7042611/override-console-log-for-production

<a href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

## Understand this workspace

Run `nx graph` to see a diagram of the dependencies of the projects.

## Remote caching

Run `npx nx connect-to-nx-cloud` to enable [remote caching](https://nx.app) and make CI faster.

## Further help

Visit the [Nx Documentation](https://nx.dev) to learn more.

Could be an error with vite on firefox: https://code.whatever.social/questions/45879671/only-on-firefox-loading-failed-for-the-script-with-source

https://airbnb.io/lottie/#/

https://github.com/robingenz/capacitor-plugin-demo

## TODO

Update inputs to new format
https://github.com/validatorjs/validator.js
https://github.com/capawesome-team/capacitor-plugins/tree/main/packages/datetime-picker
https://github.com/intlify/bundle-tools/tree/main/packages/unplugin-vue-i18n
https://github.com/debug-js/debug
https://scribe.rip/a-typescript-runtime-data-validators-comparison-92887e22ee65
https://www.npmjs.com/package/yaml
https://www.browserstack.com/open-source
Usar el endpoint de media de WP para el tema de los mecenas, que parsee la descripción (maybe yaml que es fácil) y lo saque de ahí
Mover todo lo que es descarga de datos a un worker y que así se ejecute en segundo plano?

To implement suggestion 4 and use a computed property for the `icon` calculation, you can update your component's `setup` function as follows:

```javascript
import { IonIcon, onIonViewDidEnter, modalController } from '@ionic/vue';
import * as ionicons from 'ionicons/icons';

import { Event } from '@wupp/mec-ts';
import { EVENT_ICON_FIELD_LABEL } from '../vars';

import { PropType, computed } from 'vue';

import ripplet from 'ripplet.js';
import EventDetailsModalVue from './EventDetailsModal.vue';

export default {
  props: {
    events: {
      type: Array as PropType<Array<Event>>,
      required: true,
    },
  },
  components: { IonIcon },
  setup(props) {
    const icon = computed(() => {
      return (event: Event): string => {
        //@ts-expect-error Index types don't match
        return ionicons[
          `${
            (
              event.fields.find(
                (el) => el.label === EVENT_ICON_FIELD_LABEL
              ) || {
                value: '',
              }
            ).value
          }Outline`
        ];
      };
    });

    return {
      icon,
    };
  },
  mounted() {
    const buttons = document.querySelectorAll('[data-animation="ripple"]');

    buttons.forEach((b) => b.addEventListener('click', ripplet));
  },
  methods: {
    async eventModal(event: Event) {
      const modal = await modalController.create({
        component: EventDetailsModalVue,
        breakpoints: [0, 0.45, 0.75, 1],
        initialBreakpoint: 1,
        componentProps: { event },
      });
      modal.present();
    },
  },
};
```

In this updated code, the `icon` computed property is defined inside the `setup` function. It takes the `events` prop as an argument and returns a function that calculates the icon based on the event's `fields`. By using the `computed` function from the `vue` package, the `icon` property will be reactive and updated automatically whenever the `events` prop changes.

In the template, you can access the `icon` computed property like any other property:

```html
<ion-icon :icon="icon(event)"></ion-icon>
```

This approach avoids performing the `icon` calculation for each event in the template and instead calculates it once and caches the result for reuse.

TODO https://www.npmjs.com/package/responsive-images-generator

TODO Mostrar ciertas notificaciones sólo a usuarios con sesión iniciada

https://github.com/feat-agency/vite-plugin-webfont-dl
